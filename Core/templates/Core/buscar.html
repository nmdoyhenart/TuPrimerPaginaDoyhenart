{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
  <h2>Buscar Película</h2>

  <!-- Formulario -->
  <form method="get" action="{% url 'buscar_pelicula' %}" class="mb-4">
    <div class="input-group">
      <input type="text" name="query" class="form-control" placeholder="Ingresá el nombre..." value="{{ request.GET.query }}">
      <button class="btn btn-primary" type="submit">Buscar</button>
    </div>
  </form>

  <!-- Resultados -->
  <h3>Resultados de la búsqueda</h3>

  {% if query %}
    {% if peliculas %}
      <ul class="list-group mt-3">
        {% for pelicula in peliculas %}
          <li class="list-group-item">
            <strong>{{ pelicula.titulo }}</strong> - {{ pelicula.director.nombre }} - {{ pelicula.anio_estreno }}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No se encontraron películas con ese nombre.</p>
    {% endif %}
  {% else %}
    <p>No ingresaste ningún término de búsqueda.</p>
  {% endif %}
</div>
{% endblock %}